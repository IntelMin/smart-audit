"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@walletconnect+legacy-provider@2.0.0";
exports.ids = ["vendor-chunks/@walletconnect+legacy-provider@2.0.0"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@walletconnect+legacy-provider@2.0.0/node_modules/@walletconnect/legacy-provider/dist/cjs/index.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@walletconnect+legacy-provider@2.0.0/node_modules/@walletconnect/legacy-provider/dist/cjs/index.js ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nconst tslib_1 = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/.pnpm/tslib@2.6.2/node_modules/tslib/tslib.es6.mjs\");\nconst events_1 = tslib_1.__importDefault(__webpack_require__(/*! events */ \"events\"));\nconst jsonrpc_provider_1 = __webpack_require__(/*! @walletconnect/jsonrpc-provider */ \"(ssr)/./node_modules/.pnpm/@walletconnect+jsonrpc-provider@1.0.13/node_modules/@walletconnect/jsonrpc-provider/dist/esm/index.js\");\nconst jsonrpc_http_connection_1 = __webpack_require__(/*! @walletconnect/jsonrpc-http-connection */ \"(ssr)/./node_modules/.pnpm/@walletconnect+jsonrpc-http-connection@1.0.7/node_modules/@walletconnect/jsonrpc-http-connection/dist/esm/index.js\");\nconst legacy_types_1 = __webpack_require__(/*! @walletconnect/legacy-types */ \"(ssr)/./node_modules/.pnpm/@walletconnect+legacy-types@2.0.0/node_modules/@walletconnect/legacy-types/dist/cjs/index.js\");\nconst legacy_utils_1 = __webpack_require__(/*! @walletconnect/legacy-utils */ \"(ssr)/./node_modules/.pnpm/@walletconnect+legacy-utils@2.0.0/node_modules/@walletconnect/legacy-utils/dist/cjs/index.js\");\nconst signer_1 = __webpack_require__(/*! ./signer */ \"(ssr)/./node_modules/.pnpm/@walletconnect+legacy-provider@2.0.0/node_modules/@walletconnect/legacy-provider/dist/cjs/signer.js\");\nclass WalletConnectProvider {\n    constructor(opts){\n        this.events = new events_1.default();\n        this.rpc = {\n            infuraId: opts === null || opts === void 0 ? void 0 : opts.infuraId,\n            custom: opts === null || opts === void 0 ? void 0 : opts.rpc\n        };\n        this.signer = new jsonrpc_provider_1.JsonRpcProvider(new signer_1.SignerConnection(opts));\n        const chainId = this.signer.connection.chainId || (opts === null || opts === void 0 ? void 0 : opts.chainId) || 1;\n        this.http = this.setHttpProvider(chainId);\n        this.registerEventListeners();\n    }\n    get connected() {\n        return this.signer.connection.connected;\n    }\n    get connector() {\n        return this.signer.connection.connector;\n    }\n    get accounts() {\n        return this.signer.connection.accounts;\n    }\n    get chainId() {\n        return this.signer.connection.chainId;\n    }\n    get rpcUrl() {\n        var _a;\n        return ((_a = this.http) === null || _a === void 0 ? void 0 : _a.connection).url || \"\";\n    }\n    request(args) {\n        return tslib_1.__awaiter(this, void 0, void 0, function*() {\n            switch(args.method){\n                case \"eth_requestAccounts\":\n                    yield this.connect();\n                    return this.signer.connection.accounts;\n                case \"eth_accounts\":\n                    return this.signer.connection.accounts;\n                case \"eth_chainId\":\n                    return this.signer.connection.chainId;\n                default:\n                    break;\n            }\n            if (legacy_types_1.SIGNING_METHODS.includes(args.method)) {\n                return this.signer.request(args);\n            }\n            if (typeof this.http === \"undefined\") {\n                throw new Error(`Cannot request JSON-RPC method (${args.method}) without provided rpc url`);\n            }\n            return this.http.request(args);\n        });\n    }\n    sendAsync(args, callback) {\n        this.request(args).then((response)=>callback(null, response)).catch((error)=>callback(error, undefined));\n    }\n    enable() {\n        return tslib_1.__awaiter(this, void 0, void 0, function*() {\n            const accounts = yield this.request({\n                method: \"eth_requestAccounts\"\n            });\n            return accounts;\n        });\n    }\n    connect() {\n        return tslib_1.__awaiter(this, void 0, void 0, function*() {\n            if (!this.signer.connection.connected) {\n                yield this.signer.connect();\n            }\n        });\n    }\n    disconnect() {\n        return tslib_1.__awaiter(this, void 0, void 0, function*() {\n            if (this.signer.connection.connected) {\n                yield this.signer.disconnect();\n            }\n        });\n    }\n    on(event, listener) {\n        this.events.on(event, listener);\n    }\n    once(event, listener) {\n        this.events.once(event, listener);\n    }\n    removeListener(event, listener) {\n        this.events.removeListener(event, listener);\n    }\n    off(event, listener) {\n        this.events.off(event, listener);\n    }\n    get isWalletConnect() {\n        return true;\n    }\n    registerEventListeners() {\n        this.signer.connection.on(\"accountsChanged\", (accounts)=>{\n            this.events.emit(\"accountsChanged\", accounts);\n        });\n        this.signer.connection.on(\"chainChanged\", (chainId)=>{\n            this.http = this.setHttpProvider(chainId);\n            this.events.emit(\"chainChanged\", chainId);\n        });\n        this.signer.on(\"disconnect\", ()=>{\n            this.events.emit(\"disconnect\");\n        });\n    }\n    setHttpProvider(chainId) {\n        const rpcUrl = legacy_utils_1.getRpcUrl(chainId, this.rpc);\n        if (typeof rpcUrl === \"undefined\") return undefined;\n        const http = new jsonrpc_provider_1.JsonRpcProvider(new jsonrpc_http_connection_1.HttpConnection(rpcUrl));\n        return http;\n    }\n}\nexports[\"default\"] = WalletConnectProvider; //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHdhbGxldGNvbm5lY3QrbGVnYWN5LXByb3ZpZGVyQDIuMC4wL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9sZWdhY3ktcHJvdmlkZXIvZGlzdC9janMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYkEsOENBQTZDO0lBQUVHLE9BQU87QUFBSyxDQUFDLEVBQUM7QUFDN0QsTUFBTUMsVUFBVUMsbUJBQU9BLENBQUMsc0ZBQU87QUFDL0IsTUFBTUMsV0FBV0YsUUFBUUcsZUFBZSxDQUFDRixtQkFBT0EsQ0FBQyxzQkFBUTtBQUN6RCxNQUFNRyxxQkFBcUJILG1CQUFPQSxDQUFDLHlLQUFpQztBQUNwRSxNQUFNSSw0QkFBNEJKLG1CQUFPQSxDQUFDLDZMQUF3QztBQUNsRixNQUFNSyxpQkFBaUJMLG1CQUFPQSxDQUFDLDRKQUE2QjtBQUM1RCxNQUFNTSxpQkFBaUJOLG1CQUFPQSxDQUFDLDRKQUE2QjtBQUM1RCxNQUFNTyxXQUFXUCxtQkFBT0EsQ0FBQyxnSkFBVTtBQUNuQyxNQUFNUTtJQUNGQyxZQUFZQyxJQUFJLENBQUU7UUFDZCxJQUFJLENBQUNDLE1BQU0sR0FBRyxJQUFJVixTQUFTVyxPQUFPO1FBQ2xDLElBQUksQ0FBQ0MsR0FBRyxHQUFHO1lBQUVDLFVBQVVKLFNBQVMsUUFBUUEsU0FBUyxLQUFLLElBQUksS0FBSyxJQUFJQSxLQUFLSSxRQUFRO1lBQUVDLFFBQVFMLFNBQVMsUUFBUUEsU0FBUyxLQUFLLElBQUksS0FBSyxJQUFJQSxLQUFLRyxHQUFHO1FBQUM7UUFDL0ksSUFBSSxDQUFDRyxNQUFNLEdBQUcsSUFBSWIsbUJBQW1CYyxlQUFlLENBQUMsSUFBSVYsU0FBU1csZ0JBQWdCLENBQUNSO1FBQ25GLE1BQU1TLFVBQVUsSUFBSSxDQUFDSCxNQUFNLENBQUNJLFVBQVUsQ0FBQ0QsT0FBTyxJQUFLVCxDQUFBQSxTQUFTLFFBQVFBLFNBQVMsS0FBSyxJQUFJLEtBQUssSUFBSUEsS0FBS1Ms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SWxCLG1CQUFtQmMsZUFBZSxDQUFDLElBQUliLDBCQUEwQm9ELGNBQWMsQ0FBQzdCO1FBQ2pHLE9BQU9OO0lBQ1g7QUFDSjtBQUNBeEIsa0JBQWUsR0FBR1csdUJBQ2xCLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL3NtYXJ0LWF1ZGl0Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL0B3YWxsZXRjb25uZWN0K2xlZ2FjeS1wcm92aWRlckAyLjAuMC9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbGVnYWN5LXByb3ZpZGVyL2Rpc3QvY2pzL2luZGV4LmpzPzBiMzAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xuY29uc3QgZXZlbnRzXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiZXZlbnRzXCIpKTtcbmNvbnN0IGpzb25ycGNfcHJvdmlkZXJfMSA9IHJlcXVpcmUoXCJAd2FsbGV0Y29ubmVjdC9qc29ucnBjLXByb3ZpZGVyXCIpO1xuY29uc3QganNvbnJwY19odHRwX2Nvbm5lY3Rpb25fMSA9IHJlcXVpcmUoXCJAd2FsbGV0Y29ubmVjdC9qc29ucnBjLWh0dHAtY29ubmVjdGlvblwiKTtcbmNvbnN0IGxlZ2FjeV90eXBlc18xID0gcmVxdWlyZShcIkB3YWxsZXRjb25uZWN0L2xlZ2FjeS10eXBlc1wiKTtcbmNvbnN0IGxlZ2FjeV91dGlsc18xID0gcmVxdWlyZShcIkB3YWxsZXRjb25uZWN0L2xlZ2FjeS11dGlsc1wiKTtcbmNvbnN0IHNpZ25lcl8xID0gcmVxdWlyZShcIi4vc2lnbmVyXCIpO1xuY2xhc3MgV2FsbGV0Q29ubmVjdFByb3ZpZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHRoaXMuZXZlbnRzID0gbmV3IGV2ZW50c18xLmRlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5ycGMgPSB7IGluZnVyYUlkOiBvcHRzID09PSBudWxsIHx8IG9wdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdHMuaW5mdXJhSWQsIGN1c3RvbTogb3B0cyA9PT0gbnVsbCB8fCBvcHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRzLnJwYyB9O1xuICAgICAgICB0aGlzLnNpZ25lciA9IG5ldyBqc29ucnBjX3Byb3ZpZGVyXzEuSnNvblJwY1Byb3ZpZGVyKG5ldyBzaWduZXJfMS5TaWduZXJDb25uZWN0aW9uKG9wdHMpKTtcbiAgICAgICAgY29uc3QgY2hhaW5JZCA9IHRoaXMuc2lnbmVyLmNvbm5lY3Rpb24uY2hhaW5JZCB8fCAob3B0cyA9PT0gbnVsbCB8fCBvcHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRzLmNoYWluSWQpIHx8IDE7XG4gICAgICAgIHRoaXMuaHR0cCA9IHRoaXMuc2V0SHR0cFByb3ZpZGVyKGNoYWluSWQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG4gICAgZ2V0IGNvbm5lY3RlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2lnbmVyLmNvbm5lY3Rpb24uY29ubmVjdGVkO1xuICAgIH1cbiAgICBnZXQgY29ubmVjdG9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaWduZXIuY29ubmVjdGlvbi5jb25uZWN0b3I7XG4gICAgfVxuICAgIGdldCBhY2NvdW50cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2lnbmVyLmNvbm5lY3Rpb24uYWNjb3VudHM7XG4gICAgfVxuICAgIGdldCBjaGFpbklkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaWduZXIuY29ubmVjdGlvbi5jaGFpbklkO1xuICAgIH1cbiAgICBnZXQgcnBjVXJsKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoKF9hID0gdGhpcy5odHRwKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29ubmVjdGlvbikudXJsIHx8IFwiXCI7XG4gICAgfVxuICAgIHJlcXVlc3QoYXJncykge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGFyZ3MubWV0aG9kKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImV0aF9yZXF1ZXN0QWNjb3VudHNcIjpcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgdGhpcy5jb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNpZ25lci5jb25uZWN0aW9uLmFjY291bnRzO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJldGhfYWNjb3VudHNcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2lnbmVyLmNvbm5lY3Rpb24uYWNjb3VudHM7XG4gICAgICAgICAgICAgICAgY2FzZSBcImV0aF9jaGFpbklkXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNpZ25lci5jb25uZWN0aW9uLmNoYWluSWQ7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGVnYWN5X3R5cGVzXzEuU0lHTklOR19NRVRIT0RTLmluY2x1ZGVzKGFyZ3MubWV0aG9kKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNpZ25lci5yZXF1ZXN0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmh0dHAgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCByZXF1ZXN0IEpTT04tUlBDIG1ldGhvZCAoJHthcmdzLm1ldGhvZH0pIHdpdGhvdXQgcHJvdmlkZWQgcnBjIHVybGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2VuZEFzeW5jKGFyZ3MsIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdChhcmdzKVxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gY2FsbGJhY2sobnVsbCwgcmVzcG9uc2UpKVxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IGNhbGxiYWNrKGVycm9yLCB1bmRlZmluZWQpKTtcbiAgICB9XG4gICAgZW5hYmxlKCkge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBhY2NvdW50cyA9IHlpZWxkIHRoaXMucmVxdWVzdCh7IG1ldGhvZDogXCJldGhfcmVxdWVzdEFjY291bnRzXCIgfSk7XG4gICAgICAgICAgICByZXR1cm4gYWNjb3VudHM7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25uZWN0KCkge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc2lnbmVyLmNvbm5lY3Rpb24uY29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgdGhpcy5zaWduZXIuY29ubmVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGlzY29ubmVjdCgpIHtcbiAgICAgICAgcmV0dXJuIHRzbGliXzEuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2lnbmVyLmNvbm5lY3Rpb24uY29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgdGhpcy5zaWduZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgb24oZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuICAgIG9uY2UoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuZXZlbnRzLm9uY2UoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICB9XG4gICAgcmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuICAgIG9mZihldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5ldmVudHMub2ZmKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuICAgIGdldCBpc1dhbGxldENvbm5lY3QoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZWdpc3RlckV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLnNpZ25lci5jb25uZWN0aW9uLm9uKFwiYWNjb3VudHNDaGFuZ2VkXCIsIGFjY291bnRzID0+IHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoXCJhY2NvdW50c0NoYW5nZWRcIiwgYWNjb3VudHMpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zaWduZXIuY29ubmVjdGlvbi5vbihcImNoYWluQ2hhbmdlZFwiLCBjaGFpbklkID0+IHtcbiAgICAgICAgICAgIHRoaXMuaHR0cCA9IHRoaXMuc2V0SHR0cFByb3ZpZGVyKGNoYWluSWQpO1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdChcImNoYWluQ2hhbmdlZFwiLCBjaGFpbklkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2lnbmVyLm9uKFwiZGlzY29ubmVjdFwiLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KFwiZGlzY29ubmVjdFwiKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNldEh0dHBQcm92aWRlcihjaGFpbklkKSB7XG4gICAgICAgIGNvbnN0IHJwY1VybCA9IGxlZ2FjeV91dGlsc18xLmdldFJwY1VybChjaGFpbklkLCB0aGlzLnJwYyk7XG4gICAgICAgIGlmICh0eXBlb2YgcnBjVXJsID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgaHR0cCA9IG5ldyBqc29ucnBjX3Byb3ZpZGVyXzEuSnNvblJwY1Byb3ZpZGVyKG5ldyBqc29ucnBjX2h0dHBfY29ubmVjdGlvbl8xLkh0dHBDb25uZWN0aW9uKHJwY1VybCkpO1xuICAgICAgICByZXR1cm4gaHR0cDtcbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHQgPSBXYWxsZXRDb25uZWN0UHJvdmlkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJ0c2xpYl8xIiwicmVxdWlyZSIsImV2ZW50c18xIiwiX19pbXBvcnREZWZhdWx0IiwianNvbnJwY19wcm92aWRlcl8xIiwianNvbnJwY19odHRwX2Nvbm5lY3Rpb25fMSIsImxlZ2FjeV90eXBlc18xIiwibGVnYWN5X3V0aWxzXzEiLCJzaWduZXJfMSIsIldhbGxldENvbm5lY3RQcm92aWRlciIsImNvbnN0cnVjdG9yIiwib3B0cyIsImV2ZW50cyIsImRlZmF1bHQiLCJycGMiLCJpbmZ1cmFJZCIsImN1c3RvbSIsInNpZ25lciIsIkpzb25ScGNQcm92aWRlciIsIlNpZ25lckNvbm5lY3Rpb24iLCJjaGFpbklkIiwiY29ubmVjdGlvbiIsImh0dHAiLCJzZXRIdHRwUHJvdmlkZXIiLCJyZWdpc3RlckV2ZW50TGlzdGVuZXJzIiwiY29ubmVjdGVkIiwiY29ubmVjdG9yIiwiYWNjb3VudHMiLCJycGNVcmwiLCJfYSIsInVybCIsInJlcXVlc3QiLCJhcmdzIiwiX19hd2FpdGVyIiwibWV0aG9kIiwiY29ubmVjdCIsIlNJR05JTkdfTUVUSE9EUyIsImluY2x1ZGVzIiwiRXJyb3IiLCJzZW5kQXN5bmMiLCJjYWxsYmFjayIsInRoZW4iLCJyZXNwb25zZSIsImNhdGNoIiwiZXJyb3IiLCJ1bmRlZmluZWQiLCJlbmFibGUiLCJkaXNjb25uZWN0Iiwib24iLCJldmVudCIsImxpc3RlbmVyIiwib25jZSIsInJlbW92ZUxpc3RlbmVyIiwib2ZmIiwiaXNXYWxsZXRDb25uZWN0IiwiZW1pdCIsImdldFJwY1VybCIsIkh0dHBDb25uZWN0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@walletconnect+legacy-provider@2.0.0/node_modules/@walletconnect/legacy-provider/dist/cjs/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@walletconnect+legacy-provider@2.0.0/node_modules/@walletconnect/legacy-provider/dist/cjs/signer.js":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@walletconnect+legacy-provider@2.0.0/node_modules/@walletconnect/legacy-provider/dist/cjs/signer.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.SignerConnection = void 0;\nconst tslib_1 = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/.pnpm/tslib@2.6.2/node_modules/tslib/tslib.es6.mjs\");\nconst events_1 = tslib_1.__importDefault(__webpack_require__(/*! events */ \"events\"));\nconst legacy_client_1 = tslib_1.__importDefault(__webpack_require__(/*! @walletconnect/legacy-client */ \"(ssr)/./node_modules/.pnpm/@walletconnect+legacy-client@2.0.0/node_modules/@walletconnect/legacy-client/dist/cjs/index.js\"));\nconst legacy_modal_1 = tslib_1.__importDefault(__webpack_require__(/*! @walletconnect/legacy-modal */ \"(ssr)/./node_modules/.pnpm/@walletconnect+legacy-modal@2.0.0/node_modules/@walletconnect/legacy-modal/dist/cjs/index.js\"));\nconst jsonrpc_types_1 = __webpack_require__(/*! @walletconnect/jsonrpc-types */ \"(ssr)/./node_modules/.pnpm/@walletconnect+jsonrpc-types@1.0.3/node_modules/@walletconnect/jsonrpc-types/dist/esm/index.js\");\nconst jsonrpc_utils_1 = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(ssr)/./node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\nclass SignerConnection extends jsonrpc_types_1.IJsonRpcConnection {\n    constructor(opts){\n        super();\n        this.events = new events_1.default();\n        this.accounts = [];\n        this.chainId = 1;\n        this.pending = false;\n        this.bridge = \"https://bridge.walletconnect.org\";\n        this.qrcode = true;\n        this.qrcodeModalOptions = undefined;\n        this.opts = opts;\n        this.chainId = (opts === null || opts === void 0 ? void 0 : opts.chainId) || this.chainId;\n        this.wc = this.register(opts);\n    }\n    get connected() {\n        return typeof this.wc !== \"undefined\" && this.wc.connected;\n    }\n    get connecting() {\n        return this.pending;\n    }\n    get connector() {\n        this.wc = this.register(this.opts);\n        return this.wc;\n    }\n    on(event, listener) {\n        this.events.on(event, listener);\n    }\n    once(event, listener) {\n        this.events.once(event, listener);\n    }\n    off(event, listener) {\n        this.events.off(event, listener);\n    }\n    removeListener(event, listener) {\n        this.events.removeListener(event, listener);\n    }\n    open(chainId) {\n        return tslib_1.__awaiter(this, void 0, void 0, function*() {\n            if (this.connected) {\n                this.onOpen();\n                return;\n            }\n            return new Promise((resolve, reject)=>{\n                this.on(\"error\", (err)=>{\n                    reject(err);\n                });\n                this.on(\"open\", ()=>{\n                    resolve();\n                });\n                this.create(chainId);\n            });\n        });\n    }\n    close() {\n        return tslib_1.__awaiter(this, void 0, void 0, function*() {\n            if (typeof this.wc === \"undefined\") return;\n            if (this.wc.connected) {\n                this.wc.killSession();\n            }\n            this.onClose();\n        });\n    }\n    send(payload) {\n        return tslib_1.__awaiter(this, void 0, void 0, function*() {\n            this.wc = this.register(this.opts);\n            if (!this.connected) yield this.open();\n            this.sendPayload(payload).then((res)=>this.events.emit(\"payload\", res)).catch((e)=>this.events.emit(\"payload\", jsonrpc_utils_1.formatJsonRpcError(payload.id, e.message)));\n        });\n    }\n    register(opts) {\n        if (this.wc) return this.wc;\n        this.opts = opts || this.opts;\n        this.bridge = (opts === null || opts === void 0 ? void 0 : opts.connector) ? opts.connector.bridge : (opts === null || opts === void 0 ? void 0 : opts.bridge) || \"https://bridge.walletconnect.org\";\n        this.qrcode = typeof (opts === null || opts === void 0 ? void 0 : opts.qrcode) === \"undefined\" || opts.qrcode !== false;\n        this.chainId = typeof (opts === null || opts === void 0 ? void 0 : opts.chainId) !== \"undefined\" ? opts.chainId : this.chainId;\n        this.qrcodeModalOptions = opts === null || opts === void 0 ? void 0 : opts.qrcodeModalOptions;\n        const connectorOpts = {\n            bridge: this.bridge,\n            qrcodeModal: this.qrcode ? legacy_modal_1.default : undefined,\n            qrcodeModalOptions: this.qrcodeModalOptions,\n            storageId: opts === null || opts === void 0 ? void 0 : opts.storageId,\n            signingMethods: opts === null || opts === void 0 ? void 0 : opts.signingMethods,\n            clientMeta: opts === null || opts === void 0 ? void 0 : opts.clientMeta\n        };\n        this.wc = typeof (opts === null || opts === void 0 ? void 0 : opts.connector) !== \"undefined\" ? opts.connector : new legacy_client_1.default(connectorOpts);\n        if (typeof this.wc === \"undefined\") {\n            throw new Error(\"Failed to register WalletConnect connector\");\n        }\n        if (this.wc.accounts.length) {\n            this.accounts = this.wc.accounts;\n        }\n        if (this.wc.chainId) {\n            this.chainId = this.wc.chainId;\n        }\n        this.registerConnectorEvents();\n        return this.wc;\n    }\n    onOpen(wc) {\n        this.pending = false;\n        if (wc) {\n            this.wc = wc;\n        }\n        this.events.emit(\"open\");\n    }\n    onClose() {\n        this.pending = false;\n        if (this.wc) {\n            this.wc = undefined;\n        }\n        this.events.emit(\"close\");\n    }\n    onError(payload, message = \"Failed or Rejected Request\", code = -32000) {\n        const errorPayload = {\n            id: payload.id,\n            jsonrpc: payload.jsonrpc,\n            error: {\n                code,\n                message\n            }\n        };\n        this.events.emit(\"payload\", errorPayload);\n        return errorPayload;\n    }\n    create(chainId) {\n        this.wc = this.register(this.opts);\n        this.chainId = chainId || this.chainId;\n        if (this.connected || this.pending) return;\n        this.pending = true;\n        this.registerConnectorEvents();\n        this.wc.createSession({\n            chainId: this.chainId\n        }).then(()=>this.events.emit(\"created\")).catch((e)=>this.events.emit(\"error\", e));\n    }\n    registerConnectorEvents() {\n        this.wc = this.register(this.opts);\n        this.wc.on(\"connect\", (err)=>{\n            var _a, _b;\n            if (err) {\n                this.events.emit(\"error\", err);\n                return;\n            }\n            this.accounts = ((_a = this.wc) === null || _a === void 0 ? void 0 : _a.accounts) || [];\n            this.chainId = ((_b = this.wc) === null || _b === void 0 ? void 0 : _b.chainId) || this.chainId;\n            this.onOpen();\n        });\n        this.wc.on(\"disconnect\", (err)=>{\n            if (err) {\n                this.events.emit(\"error\", err);\n                return;\n            }\n            this.onClose();\n        });\n        this.wc.on(\"modal_closed\", ()=>{\n            this.events.emit(\"error\", new Error(\"User closed modal\"));\n        });\n        this.wc.on(\"session_update\", (error, payload)=>{\n            const { accounts, chainId } = payload.params[0];\n            if (!this.accounts || accounts && this.accounts !== accounts) {\n                this.accounts = accounts;\n                this.events.emit(\"accountsChanged\", accounts);\n            }\n            if (!this.chainId || chainId && this.chainId !== chainId) {\n                this.chainId = chainId;\n                this.events.emit(\"chainChanged\", chainId);\n            }\n        });\n    }\n    sendPayload(payload) {\n        return tslib_1.__awaiter(this, void 0, void 0, function*() {\n            this.wc = this.register(this.opts);\n            try {\n                const response = yield this.wc.unsafeSend(payload);\n                return this.sanitizeResponse(response);\n            } catch (error) {\n                return this.onError(payload, error.message);\n            }\n        });\n    }\n    sanitizeResponse(response) {\n        return typeof response.error !== \"undefined\" && typeof response.error.code === \"undefined\" ? jsonrpc_utils_1.formatJsonRpcError(response.id, response.error.message, response.error.data) : response;\n    }\n}\nexports.SignerConnection = SignerConnection;\nexports[\"default\"] = SignerConnection; //# sourceMappingURL=signer.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHdhbGxldGNvbm5lY3QrbGVnYWN5LXByb3ZpZGVyQDIuMC4wL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9sZWdhY3ktcHJvdmlkZXIvZGlzdC9janMvc2lnbmVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2JBLDhDQUE2QztJQUFFRyxPQUFPO0FBQUssQ0FBQyxFQUFDO0FBQzdERCx3QkFBd0IsR0FBRyxLQUFLO0FBQ2hDLE1BQU1HLFVBQVVDLG1CQUFPQSxDQUFDLHNGQUFPO0FBQy9CLE1BQU1DLFdBQVdGLFFBQVFHLGVBQWUsQ0FBQ0YsbUJBQU9BLENBQUMsc0JBQVE7QUFDekQsTUFBTUcsa0JBQWtCSixRQUFRRyxlQUFlLENBQUNGLG1CQUFPQSxDQUFDLCtKQUE4QjtBQUN0RixNQUFNSSxpQkFBaUJMLFFBQVFHLGVBQWUsQ0FBQ0YsbUJBQU9BLENBQUMsNEpBQTZCO0FBQ3BGLE1BQU1LLGtCQUFrQkwsbUJBQU9BLENBQUMsK0pBQThCO0FBQzlELE1BQU1NLGtCQUFrQk4sbUJBQU9BLENBQUMsK0pBQThCO0FBQzlELE1BQU1GLHlCQUF5Qk8sZ0JBQWdCRSxrQkFBa0I7SUFDN0RDLFlBQVlDLElBQUksQ0FBRTtRQUNkLEtBQUs7UUFDTCxJQUFJLENBQUNDLE1BQU0sR0FBRyxJQUFJVCxTQUFTVSxPQUFPO1FBQ2xDLElBQUksQ0FBQ0MsUUFBUSxHQUFHLEVBQUU7UUFDbEIsSUFBSSxDQUFDQyxPQUFPLEdBQUc7UUFDZixJQUFJLENBQUNDLE9BQU8sR0FBRztRQUNmLElBQUksQ0FBQ0MsTUFBTSxHQUFHO1FBQ2QsSUFBSSxDQUFDQyxNQUFNLEdBQUc7UUFDZCxJQUFJLENBQUNDLGtCQUFrQixHQUFHQztRQUMxQixJQUFJLENBQUNULElBQUksR0FBR0E7UUFDWixJQUFJLENBQUNJLE9BQU8sR0FBRyxDQUFDSixTQUFTLFFBQVFBLFNBQVMsS0FBSyxJQUFJLEtBQUssSUFBSUEsS0FBS0ksT0FBTyxLQUFLLElB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Q2pDLElBQUk7Z0JBQ0EsTUFBTTRELFdBQVcsTUFBTSxJQUFJLENBQUNsRCxFQUFFLENBQUNtRCxVQUFVLENBQUM1QjtnQkFDMUMsT0FBTyxJQUFJLENBQUM2QixnQkFBZ0IsQ0FBQ0Y7WUFDakMsRUFDQSxPQUFPTCxPQUFPO2dCQUNWLE9BQU8sSUFBSSxDQUFDSixPQUFPLENBQUNsQixTQUFTc0IsTUFBTWIsT0FBTztZQUM5QztRQUNKO0lBQ0o7SUFDQW9CLGlCQUFpQkYsUUFBUSxFQUFFO1FBQ3ZCLE9BQU8sT0FBT0EsU0FBU0wsS0FBSyxLQUFLLGVBQzdCLE9BQU9LLFNBQVNMLEtBQUssQ0FBQ0gsSUFBSSxLQUFLLGNBQzdCdkQsZ0JBQWdCMkMsa0JBQWtCLENBQUNvQixTQUFTbkIsRUFBRSxFQUFFbUIsU0FBU0wsS0FBSyxDQUFDYixPQUFPLEVBQUVrQixTQUFTTCxLQUFLLENBQUNRLElBQUksSUFDM0ZIO0lBQ1Y7QUFDSjtBQUNBekUsd0JBQXdCLEdBQUdFO0FBQzNCRixrQkFBZSxHQUFHRSxrQkFDbEIsa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc21hcnQtYXVkaXQvLi9ub2RlX21vZHVsZXMvLnBucG0vQHdhbGxldGNvbm5lY3QrbGVnYWN5LXByb3ZpZGVyQDIuMC4wL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9sZWdhY3ktcHJvdmlkZXIvZGlzdC9janMvc2lnbmVyLmpzPzI0ZjUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNpZ25lckNvbm5lY3Rpb24gPSB2b2lkIDA7XG5jb25zdCB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xuY29uc3QgZXZlbnRzXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiZXZlbnRzXCIpKTtcbmNvbnN0IGxlZ2FjeV9jbGllbnRfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJAd2FsbGV0Y29ubmVjdC9sZWdhY3ktY2xpZW50XCIpKTtcbmNvbnN0IGxlZ2FjeV9tb2RhbF8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIkB3YWxsZXRjb25uZWN0L2xlZ2FjeS1tb2RhbFwiKSk7XG5jb25zdCBqc29ucnBjX3R5cGVzXzEgPSByZXF1aXJlKFwiQHdhbGxldGNvbm5lY3QvanNvbnJwYy10eXBlc1wiKTtcbmNvbnN0IGpzb25ycGNfdXRpbHNfMSA9IHJlcXVpcmUoXCJAd2FsbGV0Y29ubmVjdC9qc29ucnBjLXV0aWxzXCIpO1xuY2xhc3MgU2lnbmVyQ29ubmVjdGlvbiBleHRlbmRzIGpzb25ycGNfdHlwZXNfMS5JSnNvblJwY0Nvbm5lY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5ldmVudHMgPSBuZXcgZXZlbnRzXzEuZGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmFjY291bnRzID0gW107XG4gICAgICAgIHRoaXMuY2hhaW5JZCA9IDE7XG4gICAgICAgIHRoaXMucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJyaWRnZSA9IFwiaHR0cHM6Ly9icmlkZ2Uud2FsbGV0Y29ubmVjdC5vcmdcIjtcbiAgICAgICAgdGhpcy5xcmNvZGUgPSB0cnVlO1xuICAgICAgICB0aGlzLnFyY29kZU1vZGFsT3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5vcHRzID0gb3B0cztcbiAgICAgICAgdGhpcy5jaGFpbklkID0gKG9wdHMgPT09IG51bGwgfHwgb3B0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0cy5jaGFpbklkKSB8fCB0aGlzLmNoYWluSWQ7XG4gICAgICAgIHRoaXMud2MgPSB0aGlzLnJlZ2lzdGVyKG9wdHMpO1xuICAgIH1cbiAgICBnZXQgY29ubmVjdGVkKCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHRoaXMud2MgIT09IFwidW5kZWZpbmVkXCIgJiYgdGhpcy53Yy5jb25uZWN0ZWQ7XG4gICAgfVxuICAgIGdldCBjb25uZWN0aW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wZW5kaW5nO1xuICAgIH1cbiAgICBnZXQgY29ubmVjdG9yKCkge1xuICAgICAgICB0aGlzLndjID0gdGhpcy5yZWdpc3Rlcih0aGlzLm9wdHMpO1xuICAgICAgICByZXR1cm4gdGhpcy53YztcbiAgICB9XG4gICAgb24oZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuICAgIG9uY2UoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuZXZlbnRzLm9uY2UoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICB9XG4gICAgb2ZmKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLmV2ZW50cy5vZmYoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICB9XG4gICAgcmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuICAgIG9wZW4oY2hhaW5JZCkge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uT3BlbigpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbihcImVycm9yXCIsIGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMub24oXCJvcGVuXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlKGNoYWluSWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgcmV0dXJuIHRzbGliXzEuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLndjID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmICh0aGlzLndjLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMud2Mua2lsbFNlc3Npb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub25DbG9zZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2VuZChwYXlsb2FkKSB7XG4gICAgICAgIHJldHVybiB0c2xpYl8xLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHRoaXMud2MgPSB0aGlzLnJlZ2lzdGVyKHRoaXMub3B0cyk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY29ubmVjdGVkKVxuICAgICAgICAgICAgICAgIHlpZWxkIHRoaXMub3BlbigpO1xuICAgICAgICAgICAgdGhpcy5zZW5kUGF5bG9hZChwYXlsb2FkKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHRoaXMuZXZlbnRzLmVtaXQoXCJwYXlsb2FkXCIsIHJlcykpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gdGhpcy5ldmVudHMuZW1pdChcInBheWxvYWRcIiwganNvbnJwY191dGlsc18xLmZvcm1hdEpzb25ScGNFcnJvcihwYXlsb2FkLmlkLCBlLm1lc3NhZ2UpKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZWdpc3RlcihvcHRzKSB7XG4gICAgICAgIGlmICh0aGlzLndjKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMud2M7XG4gICAgICAgIHRoaXMub3B0cyA9IG9wdHMgfHwgdGhpcy5vcHRzO1xuICAgICAgICB0aGlzLmJyaWRnZSA9IChvcHRzID09PSBudWxsIHx8IG9wdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdHMuY29ubmVjdG9yKSA/IG9wdHMuY29ubmVjdG9yLmJyaWRnZVxuICAgICAgICAgICAgOiAob3B0cyA9PT0gbnVsbCB8fCBvcHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRzLmJyaWRnZSkgfHwgXCJodHRwczovL2JyaWRnZS53YWxsZXRjb25uZWN0Lm9yZ1wiO1xuICAgICAgICB0aGlzLnFyY29kZSA9IHR5cGVvZiAob3B0cyA9PT0gbnVsbCB8fCBvcHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRzLnFyY29kZSkgPT09IFwidW5kZWZpbmVkXCIgfHwgb3B0cy5xcmNvZGUgIT09IGZhbHNlO1xuICAgICAgICB0aGlzLmNoYWluSWQgPSB0eXBlb2YgKG9wdHMgPT09IG51bGwgfHwgb3B0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0cy5jaGFpbklkKSAhPT0gXCJ1bmRlZmluZWRcIiA/IG9wdHMuY2hhaW5JZCA6IHRoaXMuY2hhaW5JZDtcbiAgICAgICAgdGhpcy5xcmNvZGVNb2RhbE9wdGlvbnMgPSBvcHRzID09PSBudWxsIHx8IG9wdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdHMucXJjb2RlTW9kYWxPcHRpb25zO1xuICAgICAgICBjb25zdCBjb25uZWN0b3JPcHRzID0ge1xuICAgICAgICAgICAgYnJpZGdlOiB0aGlzLmJyaWRnZSxcbiAgICAgICAgICAgIHFyY29kZU1vZGFsOiB0aGlzLnFyY29kZSA/IGxlZ2FjeV9tb2RhbF8xLmRlZmF1bHQgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBxcmNvZGVNb2RhbE9wdGlvbnM6IHRoaXMucXJjb2RlTW9kYWxPcHRpb25zLFxuICAgICAgICAgICAgc3RvcmFnZUlkOiBvcHRzID09PSBudWxsIHx8IG9wdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdHMuc3RvcmFnZUlkLFxuICAgICAgICAgICAgc2lnbmluZ01ldGhvZHM6IG9wdHMgPT09IG51bGwgfHwgb3B0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0cy5zaWduaW5nTWV0aG9kcyxcbiAgICAgICAgICAgIGNsaWVudE1ldGE6IG9wdHMgPT09IG51bGwgfHwgb3B0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0cy5jbGllbnRNZXRhLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLndjID1cbiAgICAgICAgICAgIHR5cGVvZiAob3B0cyA9PT0gbnVsbCB8fCBvcHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRzLmNvbm5lY3RvcikgIT09IFwidW5kZWZpbmVkXCIgPyBvcHRzLmNvbm5lY3RvciA6IG5ldyBsZWdhY3lfY2xpZW50XzEuZGVmYXVsdChjb25uZWN0b3JPcHRzKTtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLndjID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gcmVnaXN0ZXIgV2FsbGV0Q29ubmVjdCBjb25uZWN0b3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMud2MuYWNjb3VudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmFjY291bnRzID0gdGhpcy53Yy5hY2NvdW50cztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy53Yy5jaGFpbklkKSB7XG4gICAgICAgICAgICB0aGlzLmNoYWluSWQgPSB0aGlzLndjLmNoYWluSWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbm5lY3RvckV2ZW50cygpO1xuICAgICAgICByZXR1cm4gdGhpcy53YztcbiAgICB9XG4gICAgb25PcGVuKHdjKSB7XG4gICAgICAgIHRoaXMucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICBpZiAod2MpIHtcbiAgICAgICAgICAgIHRoaXMud2MgPSB3YztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KFwib3BlblwiKTtcbiAgICB9XG4gICAgb25DbG9zZSgpIHtcbiAgICAgICAgdGhpcy5wZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLndjKSB7XG4gICAgICAgICAgICB0aGlzLndjID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoXCJjbG9zZVwiKTtcbiAgICB9XG4gICAgb25FcnJvcihwYXlsb2FkLCBtZXNzYWdlID0gXCJGYWlsZWQgb3IgUmVqZWN0ZWQgUmVxdWVzdFwiLCBjb2RlID0gLTMyMDAwKSB7XG4gICAgICAgIGNvbnN0IGVycm9yUGF5bG9hZCA9IHtcbiAgICAgICAgICAgIGlkOiBwYXlsb2FkLmlkLFxuICAgICAgICAgICAganNvbnJwYzogcGF5bG9hZC5qc29ucnBjLFxuICAgICAgICAgICAgZXJyb3I6IHsgY29kZSwgbWVzc2FnZSB9LFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KFwicGF5bG9hZFwiLCBlcnJvclBheWxvYWQpO1xuICAgICAgICByZXR1cm4gZXJyb3JQYXlsb2FkO1xuICAgIH1cbiAgICBjcmVhdGUoY2hhaW5JZCkge1xuICAgICAgICB0aGlzLndjID0gdGhpcy5yZWdpc3Rlcih0aGlzLm9wdHMpO1xuICAgICAgICB0aGlzLmNoYWluSWQgPSBjaGFpbklkIHx8IHRoaXMuY2hhaW5JZDtcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGVkIHx8IHRoaXMucGVuZGluZylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5wZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbm5lY3RvckV2ZW50cygpO1xuICAgICAgICB0aGlzLndjXG4gICAgICAgICAgICAuY3JlYXRlU2Vzc2lvbih7IGNoYWluSWQ6IHRoaXMuY2hhaW5JZCB9KVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5ldmVudHMuZW1pdChcImNyZWF0ZWRcIikpXG4gICAgICAgICAgICAuY2F0Y2goKGUpID0+IHRoaXMuZXZlbnRzLmVtaXQoXCJlcnJvclwiLCBlKSk7XG4gICAgfVxuICAgIHJlZ2lzdGVyQ29ubmVjdG9yRXZlbnRzKCkge1xuICAgICAgICB0aGlzLndjID0gdGhpcy5yZWdpc3Rlcih0aGlzLm9wdHMpO1xuICAgICAgICB0aGlzLndjLm9uKFwiY29ubmVjdFwiLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoXCJlcnJvclwiLCBlcnIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYWNjb3VudHMgPSAoKF9hID0gdGhpcy53YykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmFjY291bnRzKSB8fCBbXTtcbiAgICAgICAgICAgIHRoaXMuY2hhaW5JZCA9ICgoX2IgPSB0aGlzLndjKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2hhaW5JZCkgfHwgdGhpcy5jaGFpbklkO1xuICAgICAgICAgICAgdGhpcy5vbk9wZW4oKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMud2Mub24oXCJkaXNjb25uZWN0XCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KFwiZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9uQ2xvc2UoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMud2Mub24oXCJtb2RhbF9jbG9zZWRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdChcImVycm9yXCIsIG5ldyBFcnJvcihcIlVzZXIgY2xvc2VkIG1vZGFsXCIpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMud2Mub24oXCJzZXNzaW9uX3VwZGF0ZVwiLCAoZXJyb3IsIHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgYWNjb3VudHMsIGNoYWluSWQgfSA9IHBheWxvYWQucGFyYW1zWzBdO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmFjY291bnRzIHx8IChhY2NvdW50cyAmJiB0aGlzLmFjY291bnRzICE9PSBhY2NvdW50cykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjY291bnRzID0gYWNjb3VudHM7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdChcImFjY291bnRzQ2hhbmdlZFwiLCBhY2NvdW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuY2hhaW5JZCB8fCAoY2hhaW5JZCAmJiB0aGlzLmNoYWluSWQgIT09IGNoYWluSWQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFpbklkID0gY2hhaW5JZDtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KFwiY2hhaW5DaGFuZ2VkXCIsIGNoYWluSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2VuZFBheWxvYWQocGF5bG9hZCkge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB0aGlzLndjID0gdGhpcy5yZWdpc3Rlcih0aGlzLm9wdHMpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMud2MudW5zYWZlU2VuZChwYXlsb2FkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zYW5pdGl6ZVJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9uRXJyb3IocGF5bG9hZCwgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzYW5pdGl6ZVJlc3BvbnNlKHJlc3BvbnNlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgcmVzcG9uc2UuZXJyb3IgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgICAgIHR5cGVvZiByZXNwb25zZS5lcnJvci5jb2RlID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICA/IGpzb25ycGNfdXRpbHNfMS5mb3JtYXRKc29uUnBjRXJyb3IocmVzcG9uc2UuaWQsIHJlc3BvbnNlLmVycm9yLm1lc3NhZ2UsIHJlc3BvbnNlLmVycm9yLmRhdGEpXG4gICAgICAgICAgICA6IHJlc3BvbnNlO1xuICAgIH1cbn1cbmV4cG9ydHMuU2lnbmVyQ29ubmVjdGlvbiA9IFNpZ25lckNvbm5lY3Rpb247XG5leHBvcnRzLmRlZmF1bHQgPSBTaWduZXJDb25uZWN0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2lnbmVyLmpzLm1hcCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIlNpZ25lckNvbm5lY3Rpb24iLCJ0c2xpYl8xIiwicmVxdWlyZSIsImV2ZW50c18xIiwiX19pbXBvcnREZWZhdWx0IiwibGVnYWN5X2NsaWVudF8xIiwibGVnYWN5X21vZGFsXzEiLCJqc29ucnBjX3R5cGVzXzEiLCJqc29ucnBjX3V0aWxzXzEiLCJJSnNvblJwY0Nvbm5lY3Rpb24iLCJjb25zdHJ1Y3RvciIsIm9wdHMiLCJldmVudHMiLCJkZWZhdWx0IiwiYWNjb3VudHMiLCJjaGFpbklkIiwicGVuZGluZyIsImJyaWRnZSIsInFyY29kZSIsInFyY29kZU1vZGFsT3B0aW9ucyIsInVuZGVmaW5lZCIsIndjIiwicmVnaXN0ZXIiLCJjb25uZWN0ZWQiLCJjb25uZWN0aW5nIiwiY29ubmVjdG9yIiwib24iLCJldmVudCIsImxpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwib3BlbiIsIl9fYXdhaXRlciIsIm9uT3BlbiIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZXJyIiwiY3JlYXRlIiwiY2xvc2UiLCJraWxsU2Vzc2lvbiIsIm9uQ2xvc2UiLCJzZW5kIiwicGF5bG9hZCIsInNlbmRQYXlsb2FkIiwidGhlbiIsInJlcyIsImVtaXQiLCJjYXRjaCIsImUiLCJmb3JtYXRKc29uUnBjRXJyb3IiLCJpZCIsIm1lc3NhZ2UiLCJjb25uZWN0b3JPcHRzIiwicXJjb2RlTW9kYWwiLCJzdG9yYWdlSWQiLCJzaWduaW5nTWV0aG9kcyIsImNsaWVudE1ldGEiLCJFcnJvciIsImxlbmd0aCIsInJlZ2lzdGVyQ29ubmVjdG9yRXZlbnRzIiwib25FcnJvciIsImNvZGUiLCJlcnJvclBheWxvYWQiLCJqc29ucnBjIiwiZXJyb3IiLCJjcmVhdGVTZXNzaW9uIiwiX2EiLCJfYiIsInBhcmFtcyIsInJlc3BvbnNlIiwidW5zYWZlU2VuZCIsInNhbml0aXplUmVzcG9uc2UiLCJkYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@walletconnect+legacy-provider@2.0.0/node_modules/@walletconnect/legacy-provider/dist/cjs/signer.js\n");

/***/ })

};
;